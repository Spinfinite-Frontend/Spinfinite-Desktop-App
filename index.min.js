const{app:app,BrowserWindow:BrowserWindow,Menu:Menu,shell:shell,dialog:dialog}=require("electron"),path=require("path"),{autoUpdater:autoUpdater}=require("electron-updater"),log=require("electron-log");function createWindow(){const e=new BrowserWindow({width:1024,height:768,icon:path.join(__dirname,"icon.ico"),webPreferences:{nodeIntegration:!1}});e.loadURL("https://www.spinfinite.com");const o=[{label:"Web",submenu:[{label:"Reload",click:()=>e.reload()},{label:"Back",click:()=>{e.webContents.canGoBack()&&e.webContents.goBack()}},{label:"Forward",click:()=>{e.webContents.canGoForward()&&e.webContents.goForward()}}]},{label:"Help",submenu:[{label:"Made by Anthony",click:()=>{shell.openExternal("https://www.spinfinite.com")}}]}],t=Menu.buildFromTemplate(o);Menu.setApplicationMenu(t),autoUpdater.checkForUpdates()}autoUpdater.logger=log,autoUpdater.logger.transports.file.level="info",autoUpdater.on("update-available",(()=>{log.info("Update available, downloading...")})),autoUpdater.on("update-downloaded",(e=>{log.info("Update downloaded. Prompting for restart..."),dialog.showMessageBox({type:"info",title:"Update Ready",message:"A new version of Spinfinite is ready. The app will now restart to apply the update.",buttons:["Restart Now"]}).then((()=>{autoUpdater.quitAndInstall(!1,!0)}))})),app.whenReady().then(createWindow);