const{app:app,BrowserWindow:BrowserWindow,Menu:Menu,shell:shell,dialog:dialog}=require("electron"),path=require("path"),{autoUpdater:autoUpdater}=require("electron-updater"),log=require("electron-log");function createWindow(){const e=new BrowserWindow({width:1024,height:768,icon:path.join(__dirname,"icon.ico"),webPreferences:{nodeIntegration:!1}});e.loadURL("https://www.spinfinite.com");const t=[{label:"Web",submenu:[{label:"Reload",click:()=>e.reload()},{label:"Back",click:()=>e.webContents.canGoBack()&&e.webContents.goBack()},{label:"Forward",click:()=>e.webContents.canGoForward()&&e.webContents.goForward()}]},{label:"Help",submenu:[{label:`Check for Updates (v${app.getVersion()})`,click:()=>{autoUpdater.checkForUpdates().then((e=>{e?.updateInfo&&e.updateInfo.version!==app.getVersion()||dialog.showMessageBox({type:"info",title:"No Update Available",message:"Youâ€™re already on the latest version.",buttons:["OK"]})})).catch((()=>{dialog.showMessageBox({type:"error",title:"Update Check Failed",message:"Could not check for updates. Please try again later.",buttons:["OK"]})}))}},{label:"Made by Anthony",click:()=>shell.openExternal("https://www.spinfinite.com")}]}];Menu.setApplicationMenu(Menu.buildFromTemplate(t))}autoUpdater.logger=log,autoUpdater.logger.transports.file.level="info",app.whenReady().then((()=>{createWindow(),setTimeout((()=>{autoUpdater.checkForUpdates()}),3e3)})),autoUpdater.on("update-downloaded",(()=>{dialog.showMessageBox({type:"info",title:"Update Ready",message:"A new version has been downloaded. Restart to install now.",buttons:["Restart"]}).then((()=>{autoUpdater.quitAndInstall(!1,!0)}))})),app.on("window-all-closed",(()=>{"darwin"!==process.platform&&app.quit()}));